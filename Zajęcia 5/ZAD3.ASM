
	LJMP	START
	ORG	100H

START:
	LCALL LCD_CLR
	MOV R4, #0
L1:	LCALL SKANUJ
	CJNE A, #00000001B, L1

	MOV A,#2
	LCALL DELAY_MS

L2:	LCALL SKANUJ
	JNZ L2

	MOV A,#2
	LCALL DELAY_MS

	INC R4
	MOV A, R4
	LCALL WRITE_HEX

	SJMP	L1

SKANUJ:

	MOV R0, #CSDS

	MOV R1, #00000001B
	MOV R2, #00000000B
	MOV R3, #6
	

LOOP:	MOV A, R1
	MOVX @R0, A
	JNB P3.5, L11
	ORL A, R2
	MOV R2, A

L11:	MOV A, R1
	RL A
	MOV R1, A
	
	DJNZ R3, LOOP
	MOV A, R2
	RET