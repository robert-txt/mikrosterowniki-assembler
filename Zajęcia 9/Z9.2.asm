	LJMP	START
	ORG	100H

START:
	LCALL LCD_CLR

	MOV SCON, #1*64+0*16
	ORL PCON, #80H
	MOV TMOD, #(0+0*4+0*8)+(2+0*4+0*8)*16
	MOV TH1, #256-192
	MOV TL1, #256-192
	SETB TR1
	
	SETB TI
	LCALL LCD_CLR

	
	
LOOP:
	LCALL TEST_ENTER
	JNB P1.7, L1
	JNB RI,$
	CLR RI
	JC L2
	MOV A, SBUF
	LCALL DELAY_100MS
	CLR P1.7
L2:
	SJMP L5

L1:
	
	JNB TI, $
	CLR TI
	LCALL WAIT_KEY

	CJNE A,0FH, L4

L4:
	MOV SBUF, A
	LCALL WRITE_DATA
 
L5:
	SJMP LOOP


